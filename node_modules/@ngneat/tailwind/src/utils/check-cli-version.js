"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.checkCliVersion = void 0;
const schematics_1 = require("@angular-devkit/schematics");
const compare_version_1 = require("./compare-version");
function checkCliVersion(tree, cliVersionToCheck, operator) {
    try {
        const ngCliPackageJsonBuffer = tree.read('./node_modules/@angular/cli/package.json');
        if (ngCliPackageJsonBuffer == null) {
            return ['', false];
        }
        const packageJson = JSON.parse(ngCliPackageJsonBuffer.toString());
        const currentCliVersion = packageJson['version'];
        return [
            currentCliVersion,
            compare_version_1.compareVersions(currentCliVersion, cliVersionToCheck, operator),
        ];
    }
    catch (e) {
        throw new schematics_1.SchematicsException('Could not find @angular/cli package.json. Make sure to have @angular/cli installed');
    }
}
exports.checkCliVersion = checkCliVersion;
//# sourceMappingURL=check-cli-version.js.map