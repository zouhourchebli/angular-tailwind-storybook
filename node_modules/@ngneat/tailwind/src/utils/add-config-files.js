"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addConfigFiles = void 0;
const core_1 = require("@angular-devkit/core");
const schematics_1 = require("@angular-devkit/schematics");
const path_1 = require("path");
const is_in_jest_1 = require("./is-in-jest");
function addConfigFiles({ enableJit, darkMode, appsDir, libsDir, plugins, sourceRoot = 'src', }) {
    return (tree, context) => schematics_1.mergeWith(schematics_1.apply(schematics_1.url(is_in_jest_1.isInJest() ? '../files' : './files'), [
        schematics_1.forEach((entry) => {
            const entryName = path_1.parse(entry.path.split('/').pop());
            return tree.exists(`./${entryName.name}`) ? null : entry;
        }),
        schematics_1.applyTemplates({
            enableJit,
            darkMode,
            appsDir,
            libsDir,
            plugins,
            sourceRoot,
        }),
        schematics_1.move(core_1.normalize('./')),
    ]))(tree, context);
}
exports.addConfigFiles = addConfigFiles;
//# sourceMappingURL=add-config-files.js.map